<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Sistema La Vie Bella</title>

<link rel="manifest" href="manifest.json">
<link rel="apple-touch-icon" sizes="512x512" href="icons/icon-512.png">

<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="default">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="theme-color" content="#ffd1dc">

<style>
body{
font-family:Arial;
background:#f6f6f6;
margin:0;
}

/* TOPO */
header{
background:#ffd1dc;
padding:20px;
text-align:center;
font-size:22px;
font-weight:bold;
color:#000;
}

/* MENU PRINCIPAL */
.menu{
display:grid;
grid-template-columns:1fr 1fr;
gap:15px;
padding:20px;
}

.menu button{
background:#ffc0cb;
border:none;
padding:20px;
font-size:18px;
border-radius:12px;
cursor:pointer;
color:#000;
}

/* SEÇÕES */
.section{
display:none;
background:#fff;
margin:20px;
padding:20px;
border-radius:12px;
}

input, textarea{
width:100%;
padding:10px;
margin:8px 0;
}

/* BOTÕES DE AÇÃO */
.actions button{
margin-right:10px;
padding:10px 18px;
background:#ffc0cb;
border:none;
border-radius:8px;
cursor:pointer;
color:#000;
}

/* LISTAS */
.list{
margin-top:20px;
border-top:1px solid #ccc;
}

.item{
padding:10px;
border-bottom:1px solid #eee;
display:flex;
justify-content:space-between;
align-items:center;
}

.item span{
cursor:pointer;
}

.small{
font-size:12px;
color:#555;
}

.search{
margin-bottom:10px;
}

/* MODAL */
.modal{
position:fixed;
top:0;
left:0;
width:100%;
height:100%;
background:rgba(0,0,0,.6);
display:none;
align-items:center;
justify-content:center;
z-index:1000;
}

.modal-content{
background:#fff;
width:520px;
max-width:95%;
max-height:90vh;
display:flex;
flex-direction:column;
border-radius:12px;
overflow:hidden;
}

/* CONTEÚDO MODAL */
.modal-body{
padding:20px;
overflow-y:auto;
flex:1;
}

.modal-body img{
max-width:100%;
margin-top:8px;
border-radius:6px;
}

/* BOTÕES MODAL */
.modal-actions{
padding:12px;
border-top:1px solid #ddd;
display:flex;
gap:10px;
justify-content:flex-end;
background:#fff;
}

.modal-actions button{
padding:10px 16px;
background:#ffc0cb;
border:none;
border-radius:8px;
cursor:pointer;
color:#000;
}
</style>
</head>

<body>

<header>Sistema La Vie Bella</header>

<div class="menu">
<button onclick="openModule('instagram_feed')">Instagram Feed</button>
<button onclick="openModule('instagram_stories')">Instagram Stories</button>
<button onclick="openModule('facebook')">Facebook</button>
<button onclick="openModule('tiktok')">TikTok</button>
<button onclick="openModule('shopee')">Shopee</button>
<button onclick="openModule('whatsapp')">WhatsApp</button>
<button onclick="openModule('postados')">Postados</button>
</div>

<div class="section" id="instagram_feed">
<h2>Instagram Feed</h2>
<input id="ig_feed_nome" placeholder="Nome do produto">
<textarea id="ig_feed_desc" placeholder="Descrição"></textarea>
<input type="file" id="ig_feed_fotos" multiple>
<div class="actions">
<button onclick="saveItem('ig_feed')">Salvar</button>
<button onclick="clearForm('ig_feed')">Limpar</button>
</div>
<div class="list" id="list_ig_feed"></div>
<button onclick="back()">Voltar</button>
</div>

<div class="section" id="instagram_stories">
<h2>Instagram Stories</h2>
<input id="ig_stories_nome" placeholder="Nome do produto">
<input type="file" id="ig_stories_fotos" multiple>
<div class="actions">
<button onclick="saveItem('ig_stories')">Salvar</button>
<button onclick="clearForm('ig_stories')">Limpar</button>
</div>
<div class="list" id="list_ig_stories"></div>
<button onclick="back()">Voltar</button>
</div>

<div class="section" id="facebook"><h2>Facebook</h2><div id="facebook_form"></div></div>
<div class="section" id="tiktok"><h2>TikTok</h2><div id="tiktok_form"></div></div>
<div class="section" id="shopee"><h2>Shopee</h2><div id="shopee_form"></div></div>
<div class="section" id="whatsapp"><h2>WhatsApp</h2><div id="whatsapp_form"></div></div>

<div class="section" id="postados">
<h2>Postados</h2>
<input class="search" placeholder="Buscar..." oninput="searchPostados(this.value)">
<div class="list" id="list_postados"></div>
<button onclick="back()">Voltar</button>
</div>

<!-- MODAL -->
<div class="modal" id="modal">
<div class="modal-content">

<div class="modal-body">
<h3 id="m_nome"></h3>
<button onclick="copyText(m_nome.innerText)">Copiar nome</button>

<textarea id="m_desc" readonly></textarea>
<button onclick="copyText(m_desc.value)">Copiar descrição</button>

<div id="m_fotos"></div>
</div>

<div class="modal-actions">
<button onclick="downloadFotos()">Baixar fotos</button>
<button onclick="deleteItem()">Excluir</button>
<button onclick="closeModal()">Fechar</button>
</div>

</div>
</div>

<script>
let db = JSON.parse(localStorage.getItem('db')) || {
ig_feed:[], ig_stories:[],
facebook:[], tiktok:[], shopee:[], whatsapp:[],
postados:[]
}

let current=null

function openModule(id){
document.querySelectorAll('.section').forEach(s=>s.style.display='none')
document.getElementById(id).style.display='block'
render()
}

function back(){
document.querySelectorAll('.section').forEach(s=>s.style.display='none')
}

function createForm(id){
return `
<input id="${id}_nome" placeholder="Nome do produto">
<textarea id="${id}_desc" placeholder="Descrição"></textarea>
<input type="file" id="${id}_fotos" multiple>
<div class="actions">
<button onclick="saveItem('${id}')">Salvar</button>
<button onclick="clearForm('${id}')">Limpar</button>
</div>
<div class="list" id="list_${id}"></div>
<button onclick="back()">Voltar</button>
`
}

['facebook','tiktok','shopee','whatsapp'].forEach(m=>{
document.getElementById(m+'_form').innerHTML=createForm(m)
})

function save(){
  localStorage.setItem('db', JSON.stringify(db));
  // syncWithSupabase(); ← DESATIVADO
  render();
}

function render(){ /* igual ao seu */ }

render()
</script>

<!-- SUPABASE (APENAS CARREGADO, NÃO USADO) -->
<script src="https://unpkg.com/@supabase/supabase-js@2"></script>
<script>
const SUPABASE_URL = 'https://ksmbmldjtfgtrbozmdmw.supabase.co'
const SUPABASE_KEY = 'sb_publishable_dlxA713pDtE3VGGaG-0GJg_FsdanUYy'
const supabaseClient = supabase.createClient(SUPABASE_URL, SUPABASE_KEY)
</script>

</body>
</html>
